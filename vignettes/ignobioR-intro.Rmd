---
title: "ignobioR-intro"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{ignobioR-intro}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

# ignobioR

**Version 2.0.0 - Next Generation Floristics toolkit for R**

## Overview

The `ignobioR` package implements Next Generation Floristics (NGF) methodology to explicitly account for spatial and temporal uncertainties in botanical occurrence records. It provides two core tools:

1. **Map of Relative Floristic Ignorance (MRFI)** - Identifies knowledge gaps across your study area
2. **Virtual Floristic List (VFL)** - Estimates occurrence probabilities for all potentially present taxa

## Installation
```r
# Install from GitHub
if(!require(devtools)) install.packages("devtools")
devtools::install_github("interacquas/ignobioR")
```

## Quick Start
```r
library(ignobioR)

# Load example data
data(floratus)      # Occurrence records
data(park)          # Study area boundary
data(unsuitablezone) # Areas to exclude (optional)

# Create Map of Relative Floristic Ignorance
mrfi <- ignorance_map(
  data_flor = floratus,
  site = park,
  excl_areas = unsuitablezone,
  tau = 20,           # 20% knowledge loss per century
  cellsize = 2000     # 2 km resolution
)

# Generate Virtual Floristic List
vfl <- virtual_list(
  data_flor = floratus,
  site = park,
  excl_areas = unsuitablezone,
  tau = 20
)
```

## What's New in 2.0.0

- **Modern spatial packages**: Now uses `sf` and `terra` (faster, more reliable)
- **Enhanced visualizations**: Automatic PDF reports with quantile and continuous scales
- **Improved accuracy**: Coverage-weighted rasterization for precise MRFI calculation
- **Flexible masking**: Choose how to handle study area boundaries

## Key Parameters

**For `ignorance_map()`:**
- `tau`: Temporal decay rate (% knowledge loss per 100 years)
- `cellsize`: Raster resolution in meters
- `site_buffer`: Expand analysis area beyond site boundary (default: FALSE)
- `use_coverage_weighting`: Accurate (TRUE) vs. fast (FALSE) calculation

**For `virtual_list()`:**
- `tau`: Temporal decay rate
- `upperlimit`: Max records per taxon (10 = fast, 20 = default, 30 = slow but accurate)
- `min_probability`: Filter taxa below this probability threshold (%)

## Output Files

Both functions automatically create:
- Multi-page **PDF reports** with maps, histograms, and statistics
- **CSV files** with results
- **Raster files** (MRFI only)

Files are saved to `./output/` by default.

## Authors

- Marco D'Antraccoli (University of Pisa)
- Giuseppe Antonelli
- Gianni Bedini (University of Pisa)
- Lorenzo Peruzzi (University of Pisa)

## Citation

If you use this package, please cite:

D'Antraccoli, M., Bedini, G., & Peruzzi, L. (2022). Maps of relative floristic ignorance and virtual floristic lists: An R package to incorporate uncertainty in mapping and analysing biodiversity data. *Ecological Informatics*, 67, 101512. https://doi.org/10.1016/j.ecoinf.2021.101512

**BibTeX:**
```bibtex
@article{dantraccoli2022ignobior,
  title={Maps of relative floristic ignorance and virtual floristic lists: An R package to incorporate uncertainty in mapping and analysing biodiversity data},
  author={D'Antraccoli, Marco and Bedini, Gianni and Peruzzi, Lorenzo},
  journal={Ecological Informatics},
  volume={67},
  pages={101512},
  year={2022},
  publisher={Elsevier},
  doi={10.1016/j.ecoinf.2021.101512}
}
```

**Note:** Version 2.0.0 has been significantly updated with modern spatial packages (`sf`, `terra`) and enhanced functionality while maintaining the original methodology described in the paper.

## Learn More

Full documentation: https://interacquas.github.io/ignobioR/